wip rewrite from a similar extension to a completely different one